import{a0 as l,ag as i,a1 as P,ah as S,a2 as V,a3 as x,r as u,y as d,a4 as p}from"../index80856.js";class c{static async fetchContests(t){return await l("/contests",t)}static async fetchContestDetail(t,a){return await l(`/contests/${t}`,a)}static async createContest(t){return await i("/contests",t)}static async updateContest(t,a,r){return await P(`/contests/${t}`,a,r)}static async uploadContestImageUrl(t,a){return await i(`/contests/${t}/upload_image_url`,a)}static async uploadContestFile(t,a){return await S(`/contests/${t}/upload_attachment`,a)}static async uploadContestFileUrl(t,a){return await i(`/contests/${t}/upload_attachment_url`,a)}static async deleteContest(t){return await V(`contests/${t}`)}static async enableContest(t){return await l(`contests/${t}/online`)}static async disableContest(t){return await l(`contests/${t}/offline`)}static async fetchContestVideo(t,a){return await l(`/contests/${t}/videos`,a)}static async completeImageUpload(t,a){return await i(`/contests/${t}/image_complete_upload`,a)}static async completeFileUpload(t,a){return await i(`/contests/${t}/attachment_complete_upload`,a)}}const M=x("contest-store",()=>{const o=u(null),t=u([]),a=u(0),r=u([]),C=d(()=>a.value),f=d(()=>o.value);async function y(s){const e=await c.fetchContests(s);t.value=e.contests,a.value=e.total_records}async function w(s,e){o.value=null;const n=await c.fetchContestDetail(s,e);o.value=n.contest}async function m(s){const e=await c.enableContest(s);o.value=e.contest}async function v(s){const e=await c.disableContest(s);o.value=e.contest}async function h(s,e){const n=await c.fetchContestVideo(s,e);r.value=n.videos}async function U(s){const e=await c.createContest(s);return o.value=e.contest,e.contest}async function $(s,e){const n=await c.updateContest(s,e);o.value=n.contest}async function _(s,e){const n=await c.uploadContestFile(s,e);o.value=n.contest}async function g(s,e){return await c.uploadContestFileUrl(s,e)}async function F(s,e){return await c.uploadContestImageUrl(s,e)}async function b(s,e){const n=await c.completeImageUpload(s,e);return o.value=n.contest,n}async function I(s,e){const n=await c.completeFileUpload(s,e);return o.value=n.contest,n}function D(){o.value=null,t.value=[],a.value=0}return{totalContests:C,contests:p(t),contest:p(o),videos:p(r),currentContest:f,fetchContests:y,fetchContestDetail:w,fetchContestVideo:h,enableContest:m,disableContest:v,createContest:U,updateContest:$,uploadContestFile:_,uploadContestFileUrl:g,uploadContestImageUrl:F,completeImageUpload:b,completeFileUpload:I,$reset:D}});export{M as u};
